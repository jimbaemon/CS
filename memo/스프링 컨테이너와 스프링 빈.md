# 스프링 컨테이너와 스프링 빈

---

## 스프링 컨테이너 생성

**스프링 컨테이너 예제**

```
//스프링 컨테이너 생성
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```

* `ApplicationContext`를 스프링 컨테이너라 한다.
* `ApplicationContext`는 인터페이스 이다.
* `AnnotationConfigApplicationContext`는 ApplicationContext 의 구현체 이다.



#### 스프링 컨테이너의 생성 과정

1. **스프링 컨테이너 생성**

   ![image-20201121000236118](C:\Users\jimfo\AppData\Roaming\Typora\typora-user-images\image-20201121000236118.png)

   * `new AnnotationConfigApplicationContext(AppConfig.class)`
   * 스프링 컨테이너를 생성할 때는 컨테이너를 구성할 정보를 지정해 주어야 한다 (AppConfig.class)

   

2. **스프링 빈 등록**

   ![image-20201121000416292](C:\Users\jimfo\AppData\Roaming\Typora\typora-user-images\image-20201121000416292.png)

   * 스프링 컨테이너는 제공받은 설정 클래스 정보 (`@Configuration`, `@Bean`)를 사용해서 스프링 빈을 등록한다.
   * 빈 이름은 메서드 이름을 사용한다 (`memberService()` -> `memberService`)
   * 빈 이름을 직접 부여할 수 도 있다 (`@Bean(name="memberService2")`)

   

3. **스프링 빈 의존관계 설정 - 준비**

   ![image-20201121000835947](C:\Users\jimfo\AppData\Roaming\Typora\typora-user-images\image-20201121000835947.png)

   * 준비 완료된 컨테이너
     

4. **스프링 빈 의존관계 설정 - 완료**

   ![image-20201121000911810](C:\Users\jimfo\AppData\Roaming\Typora\typora-user-images\image-20201121000911810.png)

   * 스프링 컨테이너는 설정 정보를 참고해서 의존관계를 알아서 주입(DI)한다.

> 스프링은 빈을 생성하고, 의존관계를 주입하는 단계가 나누어져 있다. 그런데 이렇게 자바 코드로 스프링 빈을 등록하면 생성자를 호출하면서 의존관계 주입도 한번에 처리된다. 이곳에는 이해를 위해 분리

